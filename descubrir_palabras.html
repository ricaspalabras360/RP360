<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Descubrir Palabras - Ricas Palabras 360</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        .header {
            background-color: #ffffff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap; /* Allow items to wrap on smaller screens */
        }
        .header-title {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 700; /* font-bold */
            color: #1a202c; /* gray-900 */
            margin-bottom: 0.5rem; /* Space below on wrap */
        }
        .back-button {
            background-color: #4299e1; /* Blue-500 */
            color: white;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            text-decoration: none;
            transition: background-color 0.3s ease;
            white-space: nowrap; /* Prevent button text from wrapping */
        }
        .back-button:hover {
            background-color: #3182ce; /* Blue-600 */
        }
        .main-content {
            flex-grow: 1;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        .word-search-container {
            background-color: #ffffff;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            width: 100%;
            max-width: 600px;
        }
        .search-input {
            border: 2px solid #cbd5e0; /* gray-300 */
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            width: calc(100% - 130px); /* Adjust width considering button */
            margin-right: 0.5rem;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        .search-input:focus {
            outline: none;
            border-color: #4299e1; /* Blue-500 */
        }
        .search-button, .random-button {
            background-color: #48bb78; /* Green-500 */
            color: white;
            font-weight: 600;
            padding: 0.75rem 1.25rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
            border: none;
            white-space: nowrap;
        }
        .search-button:hover, .random-button:hover {
            background-color: #38a169; /* Green-600 */
        }
        .random-button {
            background-color: #ed8936; /* Orange-500 */
            margin-top: 1rem; /* Space from search bar */
            width: 100%;
        }
        .random-button:hover {
            background-color: #dd6b20; /* Orange-600 */
        }
        .word-display-area {
            background-color: #ffffff;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
            min-height: 150px; /* Ensure some height even when empty */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-top: 1.5rem;
        }
        .word-display-area h3 {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 800; /* font-extrabold */
            color: #2d3748; /* gray-800 */
            margin-bottom: 0.75rem;
        }
        .word-display-area p {
            font-size: 1.125rem; /* text-lg */
            color: #4a5568; /* gray-700 */
            line-height: 1.6;
        }
        .word-grid-container {
            width: 100%;
            max-width: 900px; /* Wider for more columns */
            margin-top: 3rem;
        }
        /* Updated keyword-card styles for rounded/bubble effect */
        .keyword-card {
            padding: 0.8rem 1.2rem; /* Adjusted padding */
            border-radius: 9999px; /* rounded-full for leaf/oval shape */
            box-shadow: 0 3px 7px 0 rgba(0, 0, 0, 0.15); /* Stronger shadow for floating effect */
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 50px; /* Smaller min-height for rounded shape */
            width: 130px; /* Fixed width for consistency */
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            cursor: pointer; 
            text-decoration: none; /* Ensure no underline for links */
        }
        .keyword-card:hover {
            transform: translateY(-5px) scale(1.05); /* More pronounced lift and slight scale */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        .keyword-text {
            font-size: 0.95rem; /* Adjusted font size */
            font-weight: 600; 
            color: #374151; 
            word-break: break-word; 
            line-height: 1.1; 
            white-space: nowrap; /* Important! Prevent text from breaking into multiple lines */
        }
        .footer {
            background-color: #2d3748; /* gray-800 */
            color: #a0aec0; /* gray-400 */
            padding: 1.5rem 1rem;
            text-align: center;
            font-size: 0.875rem; /* text-sm */
            margin-top: auto; /* Push footer to bottom */
        }

        /* Styles for the radial layout */
        .main-word-area {
            position: relative; /* Para posicionar los elementos hijos de forma absoluta */
            width: 100%;
            max-width: 800px; /* Ancho máximo para el área de palabras */
            padding-bottom: 100%; /* Mantiene una relación de aspecto 1:1 (cuadrado) para el área, útil para distribución radial */
            margin-bottom: 2rem;
            display: flex; /* Usamos flex para centrar el botón VIDA */
            justify-content: center;
            align-items: center;
        }
        .central-vida-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* Centra el botón VIDA con precisión */
            z-index: 10; /* Asegura que esté por encima de las otras palabras */
            background-color: #FFD700; /* Color dorado para VIDA */
            color: #374151;
            font-size: 1.5rem;
            font-weight: 700;
            padding: 1.5rem 2.5rem;
            border-radius: 9999px; /* Botón circular */
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.2s ease-in-out;
            white-space: nowrap; /* Evita que la palabra se rompa en varias líneas */
        }
        .central-vida-button:hover {
            transform: translate(-50%, -50%) scale(1.1);
        }
        .radial-words-container {
            position: absolute; /* Ocupa todo el espacio del main-word-area */
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                align-items: flex-start; /* Align header items to start on small screens */
            }
            .header-title {
                margin-bottom: 1rem;
                width: 100%;
            }
            .back-button {
                width: 100%;
                text-align: center;
            }
            .word-search-container {
                padding: 1.5rem;
            }
            .search-flex {
                flex-direction: column;
                align-items: stretch;
            }
            .search-input {
                width: 100%;
                margin-right: 0;
                margin-bottom: 0.75rem;
            }
            .search-button {
                width: 100%;
            }
            .word-display-area h3 {
                font-size: 1.75rem;
            }
            .word-display-area p {
                font-size: 0.95rem;
            }
            .word-grid-container {
                margin-top: 2rem;
            }
            .keyword-card {
                min-height: 70px;
            }

            /* Mobile specific radial layout adjustments */
            .main-word-area {
                position: static; /* Anula el posicionamiento absoluto */
                padding-bottom: 0; /* Eliminar el padding que crea la relación de aspecto */
                max-width: 100%; /* Ocupar todo el ancho disponible */
                height: auto; /* Permitir que la altura se ajuste al contenido */
                flex-direction: column; /* Asegura que los elementos se apilen (si display flex) */
                align-items: center; /* Centra los elementos apilados (si display flex) */
            }

            .central-vida-button {
                position: static !important; 
                transform: none !important; 
                margin-bottom: 1.5rem; 
                width: 80%; 
                padding: 1rem 1.5rem; 
                font-size: 1.3rem; 
            }

            .radial-words-container {
                position: static;
                display: flex;
                flex-direction: column; 
                align-items: center; 
                gap: 0.75rem; 
                width: 100%;
                height: auto; 
            }

            .keyword-card {
                position: static !important; 
                transform: none !important; 
                width: 80%; 
                max-width: 250px; 
                margin: 0.25rem auto; 
                padding: 0.7rem 1rem; 
                font-size: 0.9rem; 
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-title">Ricas Palabras 360</div>
        <a href="index.html" class="back-button">Volver a la Página Principal</a>
    </header>

    <main class="main-content">
        <div class="word-search-container">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Descubrí el poder de una palabra</h2>
            <div class="flex flex-col sm:flex-row items-center sm:space-x-2 space-y-3 sm:space-y-0 search-flex">
                <input type="text" id="wordInput" class="search-input" placeholder="Escribe una palabra (Ej: AMOR)">
                <button id="searchButton" class="search-button">Buscar Palabra</button>
            </div>
            <button id="randomButton" class="random-button">Descubrir palabra al azar</button>
        </div>

        <div id="wordDisplayArea" class="word-display-area">
            <h3 id="wordDisplay"></h3>
            <p id="wordMeaning"></p>
        </div>

        <div class="word-grid-container">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Todas las palabras</h2>
            <div id="allWordsGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
                </div>
        </div>
    </main>

    <footer class="footer">
        &copy; <span id="currentYear"></span> Ricas Palabras 360. Todos los derechos reservados.
    </footer>

    <script>
        // Set current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        const allWords = [
            // Palabras con página HTML dedicada
            "AMOR", "ALEGRIA", "ENERGIA", "FUERZA", "EVOLUCIONAR", "VIDA",
            // Otras palabras (sin página dedicada, se muestran en esta misma página)
            "ABUNDANCIA", "ARMADOR", "AUTOESTIMA", "COMPASION", "CONFIANZA", "CONEXION",
            "DESPERTAR", "DETERMINACION", "DISFRUTAR", "EQUILIBRIO", "ESENCIA", "ESPERANZA",
            "EXPANSION", "FE", "FLUIR", "GRATITUD", "IMAGINACION", "INSPIRACION", "INTENCION",
            "LIBERTAD", "LUZ", "PAZ", "PRESENCIA", "PROPOSITO", "RESPONSABILIDAD", "SABIDURIA",
            "SERENIDAD", "SILENCIO", "SOBERANIA", "TRANSFORMACION", "UNION", "VALOR", "VOLUNTAD",
            // Verbos (sin página dedicada, se muestran en esta misma página)
            "ACCIONAR", "ACTIVAR", "APRENDER", "CONECTAR", "CREAR", "CRECER", "CULTIVAR", "MEDITAR", "PURIFICAR", "REIR", "SEMBRAR", "SANAR"
        ].sort(); // Asegura el orden alfabético

        // Definimos las palabras que tienen una página HTML dedicada
        const dedicatedPageWords = [
            "AMOR", "ALEGRIA", "ENERGIA", "FUERZA", "EVOLUCIONAR", "VIDA"
        ];

        // Mapeo de colores para las tarjetas (nueva paleta)
        const colors = [
            'bg-rose-200', 'bg-emerald-200', 'bg-sky-200', 'bg-amber-200',
            'bg-purple-200', 'bg-teal-200', 'bg-indigo-200', 'bg-yellow-200',
            'bg-pink-100', 'bg-lime-100', 'bg-cyan-100', 'bg-orange-100',
            'bg-fuchsia-200', 'bg-blue-300', 'bg-green-300', 'bg-red-300'
        ];

        const wordColors = {
            "AMOR": "bg-rose-200",
            "ALEGRIA": "bg-amber-200",
            "ENERGIA": "bg-emerald-200",
            "FUERZA": "bg-indigo-200",
            "EVOLUCIONAR": "bg-purple-200",
            "VIDA": "bg-yellow-300", // Destacada
            "ACCIONAR": "bg-orange-200",
            "CONECTAR": "bg-pink-200",
            "CREAR": "bg-sky-200",
            "DESPERTAR": "bg-fuchsia-200",
            "GRATITUD": "bg-teal-200",
            "PAZ": "bg-blue-100",
            "FELICIDAD": "bg-yellow-100",
            // Colores por defecto para otras palabras si no están mapeadas
            "default": "bg-gray-200"
        };


        const wordInput = document.getElementById('wordInput');
        const searchButton = document.getElementById('searchButton');
        const randomButton = document.getElementById('randomButton');
        const wordDisplay = document.getElementById('wordDisplay');
        const wordMeaning = document.getElementById('wordMeaning');
        const allWordsGrid = document.getElementById('allWordsGrid');

        // References for radial layout
        const radialWordsContainer = document.getElementById('radialWordsContainer');
        const centralVidaButton = document.querySelector('.central-vida-button');


        // Function to display a word (either from search or URL param)
        function displayWord(word) {
            const normalizedWord = word.toUpperCase();
            if (allWords.includes(normalizedWord)) {
                wordDisplay.textContent = normalizedWord;
                // You would fetch/define the meaning here
                wordMeaning.textContent = "Significado de " + normalizedWord + " (próximamente contenido detallado)";
                wordDisplayArea.style.backgroundColor = wordColors[normalizedWord] || wordColors.default;
                wordDisplayArea.style.borderColor = wordColors[normalizedWord] ? wordColors[normalizedWord].replace('200', '400').replace('300', '500').replace('100', '300') : '#cbd5e0';
            } else {
                wordDisplay.textContent = "Palabra no encontrada";
                wordMeaning.textContent = "Por favor, intenta con otra palabra.";
                wordDisplayArea.style.backgroundColor = "bg-red-100";
                wordDisplayArea.style.borderColor = "border-red-400";
            }
        }

        // Handle search button click
        searchButton.addEventListener('click', () => {
            const searchTerm = wordInput.value.trim().toUpperCase();
            if (searchTerm) {
                if (dedicatedPageWords.includes(searchTerm)) {
                    window.location.href = searchTerm.toLowerCase() + ".html";
                } else {
                    displayWord(searchTerm);
                    history.pushState({word: searchTerm}, '', `?word=${searchTerm}`);
                }
            } else {
                alert("Por favor, introduce una palabra.");
            }
        });

        // Handle random button click
        randomButton.addEventListener('click', () => {
            const randomIndex = Math.floor(Math.random() * allWords.length);
            const randomWord = allWords[randomIndex];

            if (dedicatedPageWords.includes(randomWord)) {
                window.location.href = randomWord.toLowerCase() + ".html";
            } else {
                displayWord(randomWord);
                history.pushState({word: randomWord}, '', `?word=${randomWord}`);
            }
        });

        // Populate the grid with all words
        function populateAllWordsGrid() {
            allWordsGrid.innerHTML = ''; // Clear existing cards
            allWords.forEach(word => {
                const wordCard = document.createElement('a');
                // Check if the word has a dedicated page for its link
                if (dedicatedPageWords.includes(word)) {
                    wordCard.href = word.toLowerCase() + ".html"; // Link to dedicated page
                } else {
                    wordCard.href = `?word=${word}`; // Link to self with parameter
                }
                
                wordCard.className = `keyword-card ${wordColors[word] || wordColors.default}`;
                wordCard.innerHTML = `<p class="keyword-text">${word}</p>`;
                allWordsGrid.appendChild(wordCard);

                 // Add event listener to keyword cards to display words without dedicated pages
                if (!dedicatedPageWords.includes(word)) {
                    wordCard.addEventListener('click', (event) => {
                        event.preventDefault(); // Prevent default link behavior
                        displayWord(word);
                        history.pushState({word: word}, '', `?word=${word}`);
                    });
                }
            });
        }

        // Check for URL parameter on page load
        function getParameterByName(name, url = window.location.href) {
            name = name.replace(/[\[\]]/g, '\\$&');
            const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        window.onload = () => {
            populateAllWordsGrid();
            const urlWord = getParameterByName('word');
            if (urlWord) {
                if (!dedicatedPageWords.includes(urlWord.toUpperCase())) {
                    displayWord(urlWord);
                }
            }
        };

        // Handle browser back/forward buttons
        window.addEventListener('popstate', (event) => {
            if (event.state && event.state.word) {
                displayWord(event.state.word);
            } else if (window.location.search === "") {
                // If back to no parameter, clear display
                wordDisplay.textContent = "";
                wordMeaning.textContent = "Busca o descubre una palabra.";
                wordDisplayArea.style.backgroundColor = "#ffffff";
                wordDisplayArea.style.borderColor = "#cbd5e0";
            }
        });

    </script>
</body>
</html>
